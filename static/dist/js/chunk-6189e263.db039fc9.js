(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6189e263"],{"386d":function(t,e,n){"use strict";var o=n("cb7c"),a=n("83a1"),r=n("5f1b");n("214f")("search",1,(function(t,e,n,s){return[function(n){var o=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,o):new RegExp(n)[e](String(o))},function(t){var e=s(n,t,this);if(e.done)return e.value;var i=o(t),c=String(this),d=i.lastIndex;a(d,0)||(i.lastIndex=0);var u=r(i,c);return a(i.lastIndex,d)||(i.lastIndex=d),null===u?-1:u.index}]}))},"3b2b":function(t,e,n){var o=n("7726"),a=n("5dbc"),r=n("86cc").f,s=n("9093").f,i=n("aae3"),c=n("0bfb"),d=o.RegExp,u=d,l=d.prototype,f=/a/g,m=/a/g,p=new d(f)!==f;if(n("9e1e")&&(!p||n("79e5")((function(){return m[n("2b4c")("match")]=!1,d(f)!=f||d(m)==m||"/a/i"!=d(f,"i")})))){d=function(t,e){var n=this instanceof d,o=i(t),r=void 0===e;return!n&&o&&t.constructor===d&&r?t:a(p?new u(o&&!r?t.source:t,e):u((o=t instanceof d)?t.source:t,o&&r?c.call(t):e),n?this:l,d)};for(var g=function(t){t in d||r(d,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},h=s(u),b=0;h.length>b;)g(h[b++]);l.constructor=d,d.prototype=l,n("2aba")(o,"RegExp",d)}n("7a56")("RegExp")},"46b6":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("button",{staticClass:"btn btn-primary btn-sm btn-iview-size",attrs:{disabled:t.resetStarted,"data-toggle":"modal","data-target":"#"+t.deviceResetConfirmDlgId}},[t._v(t._s(t.resetStarted?"重启中，请耐心等候...":"重启系统"))])])]),e("div",{staticClass:"row mt-5"},[e("div",{staticClass:"col"},[e("button",{staticClass:"btn btn-primary btn-sm btn-iview-size",attrs:{disabled:t.resetStarted,"data-toggle":"modal","data-target":"#"+t.deviceResetParamsConfirmDlgId}},[t._v(t._s(t.resetStarted?"重启中，请耐心等候...":"重置所有参数"))]),e("br"),e("span",[t._v("注：重置所有参数后，所有设置的参数将会被情况。请谨慎操作！")])])]),e("div",{staticClass:"row mt-5"},[e("div",{staticClass:"col"},[e("button",{staticClass:"btn btn-primary btn-sm btn-iview-size",attrs:{disabled:t.resetStarted,"data-toggle":"modal","data-target":"#"+t.deviceFactoryResetConfirmDlgId}},[t._v(t._s(t.resetStarted?"重启中，请耐心等候...":"恢复出厂设置"))]),e("br"),e("span",[t._v("注：恢复出厂设置后，视频通道将会清空，算法授权将会失效。请谨慎操作！")])])]),e("SystemResetConfirmDlg",{attrs:{modalId:t.deviceResetConfirmDlgId},on:{"reset-started":t.onResetStarted}}),e("SystemResetParamsConfirmDlg",{attrs:{modalId:t.deviceResetParamsConfirmDlgId},on:{"reset-started":t.onResetStarted}}),e("SystemFactoryResetConfirmDlg",{attrs:{modalId:t.deviceFactoryResetConfirmDlgId},on:{"reset-started":t.onResetStarted}}),e("SystemFactoryResetSuccessDlg",{attrs:{modalId:t.deviceFactoryResetSuccessDlgId}})],1)},a=[],r=n("fa7d"),s=function(){var t=this,e=t._self._c;return e("div",[e("SimpleModalDlg",{attrs:{modalId:t.modalId,title:"设备重启",content:"",defaultButtonText:"取消",button2Text:"确认",button2Action:t.button2Action,dialogWidth:500},scopedSlots:t._u([{key:"bodyPost",fn:function(){return[e("IconFont",{staticStyle:{"font-size":"2em",color:"rgb(255, 186, 0)"},attrs:{iconName:"icon-tanhao"}}),t._v("\n    设备重启可能需要几分钟时间。\n  ")]},proxy:!0}])}),e("Toast",{attrs:{toastId:t.toastId,text:"设备重启中"}})],1)},i=[],c=n("f953"),d=n("0be2"),u=n("8cbb"),l={name:"SystemResetConfirmDlg",components:{SimpleModalDlg:c["a"]},data:function(){return{toastId:r["a"].randomId("toast")}},props:{modalId:{type:String,required:!0}},computed:{},methods:{button2Action:function(){var t=this,e="system/projectinfos/reset_device/",n={};d["a"].apiAjaxPost(e,n,(function(){u["a"].showToast(t.toastId),t.$emit("reset-started","restart")}),r["a"].defaultApiErrorHandler(e,""))}},watch:{},mounted:function(){}},f=l,m=n("2877"),p=Object(m["a"])(f,s,i,!1,null,null,null),g=p.exports,h=function(){var t=this,e=t._self._c;return e("div",[e("SimpleModalDlg",{attrs:{modalId:t.modalId,title:"重置所有参数",content:"",defaultButtonText:"取消",button2Text:"确认",button2Action:t.button2Action,dialogWidth:500},scopedSlots:t._u([{key:"bodyPost",fn:function(){return[e("IconFont",{staticStyle:{"font-size":"2em",color:"rgb(255, 186, 0)"},attrs:{iconName:"icon-tanhao"}}),t._v("\n    整个过程大约需要一分钟。所有检测参数将被清除，检测和报警功能将会停止。授权信息、通道信息和历史报警记录将会保留。如果需要开启检测和报警，请重新配置参数。\n  ")]},proxy:!0}])}),e("Toast",{attrs:{toastId:t.toastId,text:"参数已重置，设备重启中"}})],1)},b=[],v={name:"SystemResetParamsConfirmDlg",components:{SimpleModalDlg:c["a"]},data:function(){return{toastId:r["a"].randomId("toast")}},props:{modalId:{type:String,required:!0}},computed:{},methods:{button2Action:function(){var t=this,e="system/projectinfos/reset_params/",n={};d["a"].apiAjaxPost(e,n,(function(){u["a"].showToast(t.toastId),t.$emit("reset-started","reset-params")}),r["a"].defaultApiErrorHandler(e,""))}},watch:{},mounted:function(){}},y=v,I=Object(m["a"])(y,h,b,!1,null,null,null),S=I.exports,D=function(){var t=this,e=t._self._c;return e("div",[e("SimpleModalDlg",{attrs:{modalId:t.modalId,title:"恢复出厂设置",content:"",defaultButtonText:"取消",button2Text:"确认",button2Action:t.button2Action,dialogWidth:500},scopedSlots:t._u([{key:"bodyPost",fn:function(){return[e("IconFont",{staticStyle:{"font-size":"2em",color:"rgb(255, 186, 0)"},attrs:{iconName:"icon-tanhao"}}),t._v("\n    整个过程大约需要一到五分钟。授权信息、通道信息、检测参数和所有报警记录都将会删除。如需保存报警记录，请在“报警管理”中将数据下载到你的电脑。恢复出厂设置后，要再次使用需要重新激活。如忘记授权码，请联系厂家或销售人员。\n  ")]},proxy:!0}])}),e("Toast",{attrs:{toastId:t.toastId,text:"所有数据已删除，设备重启中"}})],1)},x=[],_=n("5f87"),R={name:"SystemFactoryResetConfirmDlg",components:{SimpleModalDlg:c["a"]},data:function(){return{toastId:r["a"].randomId("toast")}},props:{modalId:{type:String,required:!0}},computed:{},methods:{button2Action:function(){var t=this,e="system/projectinfos/factory_reset/",n={};d["a"].apiAjaxPost(e,n,(function(){u["a"].showToast(t.toastId),Object(_["b"])(),Object(_["a"])(),t.$emit("reset-started","factory-reset")}),r["a"].defaultApiErrorHandler(e,""))}},watch:{},mounted:function(){}},C=R,w=Object(m["a"])(C,D,x,!1,null,null,null),P=w.exports,A=function(){var t=this,e=t._self._c;return e("div",[e("SimpleModalDlg",{attrs:{modalId:t.modalId,title:"恢复出厂设置完成",content:"",defaultButtonText:"确认",defaultButtonAction:t.defaultButtonAction,dialogWidth:500},scopedSlots:t._u([{key:"bodyPost",fn:function(){return[e("IconFont",{staticStyle:{"font-size":"2em",color:"rgb(255, 186, 0)"},attrs:{iconName:"icon-tanhao"}}),t._v("\n    恢复出厂设置完成。请点击“确定”进入激活页面。\n  ")]},proxy:!0}])})],1)},T=[],E={name:"SystemFactoryResetSuccessDlg",components:{SimpleModalDlg:c["a"]},data:function(){return{}},props:{modalId:{type:String,required:!0}},computed:{},methods:{defaultButtonAction:function(){this.$router.push("/login")}},watch:{},mounted:function(){}},j=E,F=Object(m["a"])(j,A,T,!1,null,null,null),k=F.exports,O=n("1157"),M=n.n(O),z={name:"SysConfigRestartDevice",components:{SystemResetConfirmDlg:g,SystemFactoryResetConfirmDlg:P,SystemResetParamsConfirmDlg:S,SystemFactoryResetSuccessDlg:k},data:function(){return{deviceResetConfirmDlgId:r["a"].randomId("modal"),deviceResetParamsConfirmDlgId:r["a"].randomId("modal"),deviceFactoryResetConfirmDlgId:r["a"].randomId("modal"),deviceFactoryResetSuccessDlgId:r["a"].randomId("modal"),resetStarted:!1,apis:d["a"]}},computed:{},methods:{resetDone:function(t){t.resetStarted=!1},checkResetDone:function(t,e){var n=this;console.log("checkResetDone",t);var o="system/projectinfos/get_device_info/";t.apis.apiAjaxGet(o,{},(function(){t.resetDone(t),"factory-reset"===e&&M()("#".concat(n.deviceFactoryResetSuccessDlgId)).modal("show")}),(function(){setTimeout((function(){t.checkResetDone(t,e)}),5e3)}))},onResetStarted:function(t){var e=this;console.log("onResetStarted",this),this.resetStarted=!0;var n=this;setTimeout((function(){e.checkResetDone(n,t)}),3e4)}}},B=z,q=Object(m["a"])(B,o,a,!1,null,null,null);e["default"]=q.exports},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},fa7d:function(t,e,n){"use strict";n("456d"),n("ac6a");var o=n("53ca");n("7514"),n("28a5"),n("a481"),n("3b2b"),n("386d");e["a"]={nextTableSelectedIndex:function(t,e){var n=e+1;while(n<t.length){if(t[n].selected)break;n++}return n},downloadFile:function(t){var e=document.createElement("iframe");e.style.display="none",e.style.height=0,e.src=t,document.body.appendChild(e),setTimeout((function(){e.remove()}),3e5)},randomString:function(t){for(var e=t||8,n="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",o=n.length,a="",r=0;r<e;r++)a+=n.charAt(Math.floor(Math.random()*o));return a},randomId:function(t){return"".concat(t,"-").concat(this.randomString())},getProtocolHostPort:function(){var t=document.location.protocol;":"===!t.substr(t.length-1,1)&&(t+=":");var e=document.location.host;return e.search(":"+document.location.port)<0&&(e+=":"+document.location.port),"".concat(t,"//").concat(e)},getThumbPathPrefix:function(){return"".concat(this.getProtocolHostPort(),"/nc19api/v1/fileservice/images/")},getThumbPathPostfix:function(t){return"thumb/?thumb_size=".concat(t,"&id=")},replaceChinese:function(t){var e={"：":":","，":",","；":";","？":"?","‘":"'","’":"'","“":'"',"”":'"',"！":"!","＃":"#","＆":"&","×":"*","（":"(","）":")","－":"-","—":"_","＋":"+","＝":"=","｛":"{","｝":"}","【":"[","】":"]","｜":"|","～":"~","《":"<","》":">","​":"","＞":">","＜":"<","★":"*","。":". ","、":"\\","∽":"~","￠":"","":"","氧传感":"Oxygen Sensor","(盎司)":"(ounces)","．":". "};for(var n in e){var o=new RegExp(n,"g");t=t.replace(o,e[n])}return t},filterEnglishOrSymbol:function(t){return t&&t.search(/[\u4e00-\u9fa5]/)>=0?"Chinese Characters":""},getProductEditUrl:function(t,e,n,o,a){var r=t.$router.resolve({path:"/products/products/productedit",query:{product_id:e,source:n,auto_save:o?1:0,view_only:a?1:0}});return r},openProductEditPageEx:function(t,e,n,o){var a=this.getProductEditUrl(t,e,n,o);window.open(a.href,"_blank")},openProductEditPage:function(t,e,n){this.openProductEditPageEx(t,e,n,0)},getDateFromDateTimeString:function(t){return t.split("T")[0]},getImageThumbById:function(t,e,n){var o="".concat(t.img_root,"thumb/?id=").concat(e);return n&&(o="".concat(o,"&thumb_size=").concat(n)),o},getImageThumbByName:function(t,e,n){var o="".concat(t.img_root,"thumb/").concat(e);return n&&(o="".concat(o,"?thumb_size=").concat(n)),o},getImageLinkByName:function(t,e){return"".concat(t.img_root).concat(e)},getLabelFromOptionMap:function(t,e,n,o){var a=t.find((function(t){return t[e]===o}));return a[n]},getDayDiff:function(t,e){return(new Date(t).getTime()-new Date(e))/864e5},defaultApiErrorHandler:function(t,e){return function(n){console.log("".concat(t," failed(").concat(e,"): "),n),"response"in n&&"data"in n.response&&n.response.data instanceof Object&&"data"in n.response.data&&n.response.data.data}},arrayEqual:function(t,e){if(!t||!e)return!t&&!e;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!this.arrayEqual(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0},deepCopy:function(t){var e=this;if(null===t||"object"!==Object(o["a"])(t))return t;var n=Array.isArray(t)?[]:{};return Object.keys(t).forEach((function(o){n[o]=e.deepCopy(t[o])})),n},eval:function(t){var e=Function;return new e("return "+t)()},getImageUrl:function(t){return"".concat("/static/images","/").concat(t)}}}}]);